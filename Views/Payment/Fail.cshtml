@{
    ViewData["Title"] = "Payment Failed";
    var redirectUrl = Url.Content("~/"); // Trang chủ
    var delaySeconds = 0;
    var message = "Bạn sẽ được chuyển hướng về trang chủ trong giây lát.";
}
<meta http-equiv="refresh" content="@delaySeconds; url='@redirectUrl'" />

<!-- Overlay loading toàn màn hình -->
<div class="loading-overlay">
    <div class="spinner-border text-primary" role="status" style="width: 4rem; height: 4rem;">
        <span class="visually-hidden">Loading...</span>
    </div>
    <p class="mt-4 text-dark h5">@message</p>
</div>

<!-- Fallback nội dung nếu overlay không chạy -->
<div class="d-flex justify-content-center align-items-center vh-100 bg-light text-center">
    <div>
        <h1 class="text-dark">@ViewData["Title"]</h1>
        <p class="text-muted">@message</p>

        @if (ViewBag.Message != null)
        {
            <div class="alert alert-danger mt-3">@ViewBag.Message</div>
        }

        <p class="small text-muted">
            Nếu không được chuyển hướng, <a href="@redirectUrl">nhấn vào đây</a>.
        </p>
    </div>
</div>

<!-- Bootstrap & CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />

<style>
    .loading-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: #f8f9fa;
        z-index: 9999;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
    }
</style>
